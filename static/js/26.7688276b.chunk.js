(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{662:function(e,t,a){"use strict";a.r(t);var n=a(23),i=a(31),c=a(139),s=a(138),r=a(140),l=a(0),m=a.n(l),o=a(510),d=a(520),u=a.n(d),p=a(519),h=a(6),E=a(506),b=a(509),I=a(27),f=a(511),N=a(508),g=a(14),v=a(95),w=[],S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).callApiRedeemList=function(){a.setState({ISLOAD:!0}),Object(E.Ib)({}).then(function(e){if(a.setState({ISLOAD:!1}),e.response_code===g.od){var t=e.data.rewards||[];a.setState({RCLIST:t.sort(function(e,t){return parseInt(e.redeem_coins)-parseInt(t.redeem_coins)})}),w=t.sort(function(e,t){return parseInt(e.redeem_coins)-parseInt(t.redeem_coins)})}})},a.btnAction=function(e){if(!a.state.isApiCalling){var t=parseInt(a.state.userCoinB)-parseInt(e.redeem_coins),n={coin_reward_id:e.coin_reward_id.$oid};a.setState({isApiCalling:!0}),Object(E.hc)(n).then(function(n){if(a.setState({isApiCalling:!1}),n.response_code===g.od){b.a.updateCoinBalance(t),a.setState({userCoinB:t}),b.a.showRSuccess(e);var i=I.a.getBalance();i.point_balance=t,I.a.setBalance(i)}})}},a.renderListItem=function(e,t){return m.a.createElement("li",{key:t,className:"border "+(parseInt(e.redeem_coins||"0")>parseInt(a.state.userCoinB)?"disabled":"")},m.a.createElement("div",{className:"lock-icon"},m.a.createElement("i",{className:"icon-lock-ic"})),m.a.createElement("div",{className:"text-c"},"3"===e.type&&m.a.createElement("div",{className:"img-c"},m.a.createElement("img",{src:h.b.getRewardsURL(e.image),alt:""})),m.a.createElement("div",{className:"detail-c"+("3"===e.type?"":" not-gift")},"3"!=e.type?m.a.createElement(m.a.Fragment,null,m.a.createElement("p",{className:"list-t"}," ","1"===e.type?m.a.createElement("i",{className:"icon-bonus"}):h.b.getMasterData().currency_code,e.value),m.a.createElement("p",{className:"list-d"},"3"===e.type?e.detail:"2"===e.type?v.ni:v.D)):m.a.createElement("p",{className:"list-t"},e.detail))),m.a.createElement("div",null,m.a.createElement("p",{className:"list-d text-center m-b-xs"},v.ri),m.a.createElement("a",{href:!0,className:"list-btn",onClick:function(){return a.btnAction(e)}},m.a.createElement("img",{className:"coin-img",src:parseInt(e.redeem_coins||"0")>parseInt(a.state.userCoinB)?N.a.IC_COIN_GRAY:N.a.IC_COIN,alt:""}),e.redeem_coins)))},a.Shimmer=function(e){return m.a.createElement("div",{key:e,className:"contest-list border"},m.a.createElement("div",{className:"shimmer-container"},m.a.createElement("div",{className:"shimmer-image"},m.a.createElement(u.a,{width:70,height:46})),m.a.createElement("div",{className:"shimmer-top-view"},m.a.createElement("div",{className:"shimmer-line m-l w-75"},m.a.createElement(u.a,{height:9,width:"75%"}),m.a.createElement(u.a,{height:6,width:"80%"}))),m.a.createElement("div",{className:"m-0"},m.a.createElement(u.a,{height:6,width:"100%"}),m.a.createElement("div",{className:"shimmer-button"},m.a.createElement(u.a,{height:30,width:85})))))},a.state={RCLIST:[],ISLOAD:!1,userCoinB:I.a.getBalance().point_balance||0,isApiCalling:!1},a}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){w.length>0?this.setState({RCLIST:w.sort(function(e,t){return parseInt(e.redeem_coins)-parseInt(t.redeem_coins)})}):this.callApiRedeemList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.RCLIST,n=t.ISLOAD,i={back:!0,notification:!1,title:v.Mi,hideShadow:!0,showBal:!0};return m.a.createElement(p.a.Consumer,null,function(t){return m.a.createElement("div",{className:"web-container redeem-coins-cont"},m.a.createElement(o.Helmet,{titleTemplate:"".concat(f.a.template," | %s")},m.a.createElement("title",null,f.a.RWRDS.title),m.a.createElement("meta",{name:"description",content:f.a.RWRDS.description}),m.a.createElement("meta",{name:"keywords",content:f.a.RWRDS.keywords})),m.a.createElement(b.a,Object.assign({},e.props,{HeaderOption:i})),m.a.createElement("div",{className:"top-primary"}),m.a.createElement("ul",{className:"list-type"},Object(h.c)(a,function(t,a){return e.renderListItem(t,a)}),0===a.length&&n&&[1,1,1,1,1,1].map(function(t,a){return e.Shimmer(a)})))})}}]),t}(l.Component);t.default=S}}]);
//# sourceMappingURL=26.7688276b.chunk.js.map