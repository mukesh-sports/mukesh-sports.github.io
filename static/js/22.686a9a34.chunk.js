(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1089:function(e,t,a){"use strict";a.r(t);var n=a(23),o=a(31),i=a(139),c=a(138),s=a(140),r=a(0),l=a.n(r),m=a(519),p=a(6),d=a(506),u=a(515),h=a(510),b=a.n(h),_=a(607),g=a(511),E=a(27),f=a(509),v=a(528),C=a(508),y=a(14),N=a(95),w=a(10),S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).onSelectPredict=function(e,t){var n=a.state.detail;Object(p.c)(n.option,function(a,o){o===e?(a.user_selected_option=t.prediction_option_id,n.option_predicted=t):a.user_selected_option=null}),a.setState({detail:n},function(){setTimeout(function(){a.onMakePrediction()},50)})},a.onMakePrediction=function(){E.a.loggedIn()?a.setState({showCP:!0}):a.goToSignup()},a.hideCP=function(){a.setState({showCP:!1})},a.goToSignup=function(){var e=a.props.match.params,t="/"+p.b.getSelectedSportsForUrl().toLowerCase()+"/prediction-details/"+e.season_game_uid+"/"+e.prediction_master_id;a.props.history.push({pathname:"/signup",state:{joinContest:!0,lineupPath:t,FixturedContest:a.state.LData,LobyyData:a.state.LData}})},a.timerCallback=function(){},a.gotoLobby=function(){a.props.history.push("/lobby#"+p.b.getSelectedSportsForUrl())},a.successAction=function(){setTimeout(function(){a.props.history.length>2?a.props.history.goBack():a.gotoLobby()},1500)},a.renderFilledBar=function(e,t){var n=a.state.detail,o=0===n.total_predictions?0:(e.option_total_coins/n.total_pool*100).toFixed(2),i=e.user_selected_option===e.prediction_option_id;return l.a.createElement("div",{key:t,onClick:function(){return a.onSelectPredict(t,e)},className:"prediction-bar"+(i?" selected":"")},l.a.createElement("div",{className:"filled-bar",style:{width:o+"%",animationDelay:.05*t+"s"}}),l.a.createElement("p",{className:"answer"},e.option),l.a.createElement("div",{className:"corrected-ans"},l.a.createElement("p",null,o>0?o+"%":"")))},a.state={HOS:{back:a.props.history.length>2,fixture:!1,title:"",hideShadow:!1},LData:"",detail:"",showCP:!1},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){if(E.a.setShareContestJoin(!0),E.a.setPickedGameType(w.p.Pred),this.props.match&&this.props.match.params){var e=this.props.match.params,t=atob(e.prediction_master_id);this.getDetail(e.season_game_uid,t)}}},{key:"getDetail",value:function(e,t){var a=this,n={season_game_uid:e,prediction_master_id:t};Object(d.yb)(n).then(function(e){e.response_code===y.od&&(e.data.prediction?a.setState({detail:e.data.prediction[0]||"",LData:e.data.match_data,HOS:{back:a.props.history.length>2,fixture:!0,title:"",hideShadow:!1}}):(p.b.showToast(N.ai,1e3),setTimeout(function(){a.props.history.length>2?a.props.history.goBack():a.gotoLobby()},1e3)))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.HOS,n=t.LData,o=t.detail,i=t.showCP,c=o.deadline_time/1e3,s=0;return l.a.createElement(m.a.Consumer,null,function(t){return l.a.createElement("div",{className:"web-container prediction-detail-wrap"},l.a.createElement("img",{className:"bg-c-img",src:C.a.CARD_BACK_IMG_DETAIL,alt:""}),l.a.createElement(b.a,{titleTemplate:"".concat(g.a.template," | %s")},l.a.createElement("title",null,g.a.PRDSHARE.title),l.a.createElement("meta",{name:"description",content:g.a.PRDSHARE.description}),l.a.createElement("meta",{name:"keywords",content:g.a.PRDSHARE.keywords})),l.a.createElement(f.a,Object.assign({},e.props,{LobyyData:n,HeaderOption:a})),""!==o&&l.a.createElement("div",{className:"pred-detail-v"},l.a.createElement("p",{className:"questions"},o.desc),Object(p.c)(o.option,function(t,a){return s=t.user_selected_option===t.prediction_option_id?t.bet_coins:s,e.renderFilledBar(t,a)}),l.a.createElement("div",{className:"footer-vc"},l.a.createElement("div",{className:"match-timing league-n"},l.a.createElement("div",{className:"leag-name"},n.league_name||n.league_abbr)),l.a.createElement("div",null,o.prize_pool>0&&l.a.createElement("p",{className:"price-pool"},l.a.createElement("span",{className:"price-pool-first"},N.ul),l.a.createElement("img",{src:C.a.IC_COIN,alt:""}),o.prize_pool),0===o.prize_pool&&l.a.createElement("p",{className:"price-pool-first"},N.A),l.a.createElement("div",{className:"date-v"},l.a.createElement("div",{className:"match-timing"},p.b.showCountDown({game_starts_in:c})?l.a.createElement("span",{className:"d-flex"},l.a.createElement("div",{className:"countdown time-line"},c&&l.a.createElement(v.a,{timerCallback:e.timerCallback,deadlineTimeStamp:c})),N.Gi):l.a.createElement("span",null," ",l.a.createElement(u.f,{data:{date:o.deadline_date,format:"D MMM - hh:mm A "}}))))),l.a.createElement("div",{className:"lobby-go"},e.props.history.length<=2&&l.a.createElement("a",{href:!0,onClick:e.gotoLobby},N.Ld)))),i&&l.a.createElement(_.a,Object.assign({},e.props,{preData:{mShow:i,mHide:e.hideCP,cpData:o,successAction:e.successAction}})))})}}]),t}(r.Component);t.default=S},607:function(e,t,a){"use strict";var n=a(23),o=a(31),i=a(139),c=a(138),s=a(140),r=a(0),l=a.n(r),m=a(519),p=a(1098),d=a(1072),u=a(521),h=a(506),b=a(515),_=a(6),g=a(522),E=a(520),f=a.n(E),v=a(528),C=a(27),y=a(508),N=a(14),w=a(95),S=a(509),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).onChange=function(e){a.setState({bidAmount:e.target.value})},a.timerCompletionCall=function(){(0,a.props.preData.mHide)()},a.submitPrediction=function(){var e=a.props.preData,t=e.mHide,n=e.cpData,o=e.successAction,i=parseInt(a.state.point_balance)-parseInt(a.state.bidAmount),c={prediction_master_id:n.prediction_master_id,prediction_option_id:n.option_predicted.prediction_option_id,bet_coins:parseInt(a.state.bidAmount)};a.setState({isLoading:!0}),Object(h.ec)(c).then(function(e){if(e.response_code===N.od){S.a.updateCoinBalance(i);var c=C.a.getBalance();c.point_balance=i,C.a.setBalance(c),_.b.showToast(e.message,3e3,y.a.PREDICTION_IC),o(n),a.setState({isLoading:!1},function(){t()})}else a.setState({isLoading:!1})})},a.clickEarnCoins=function(){C.a.loggedIn()?a.props.history.push("/earn-coins"):a.goToSignup()},a.goToSignup=function(){a.props.history.push("/signup")},a.state={bidAmount:"",minCoin:parseInt(_.b.getMasterData().min_bet_coins||10),isLoading:!1,point_balance:C.a.getBalance().point_balance||0},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;document.addEventListener("keydown",_.g,!1),Object(h.Qb)().then(function(t){t.response_code===N.od&&(e.setState({point_balance:t.data.user_balance.point_balance||0}),C.a.setAllowedBonusPercantage(t.data.allowed_bonus_percantage),C.a.setBalance(t.data.user_balance))})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",_.g)}},{key:"render",value:function(){var e=this,t=this.props.preData,a=t.mShow,n=t.mHide,o=t.cpData,i=this.state,c=i.bidAmount,s=i.minCoin,r=i.isLoading,h=i.point_balance,E=o.deadline_time/1e3,C=parseInt(h||0),N=c>=s&&c<=C;return l.a.createElement(m.a.Consumer,null,function(t){return l.a.createElement(p.a,{show:a,onHide:n,dialogClassName:"modal-pred-confirm",className:"center-modal"},l.a.createElement(p.a.Body,null,l.a.createElement("div",{className:"container"},l.a.createElement("p",{className:"title-pp"},w.mh),l.a.createElement("p",{className:"desc-pp"},w.Hh),l.a.createElement("div",{className:"your-pre"},l.a.createElement("div",{className:"shimmer-v"},l.a.createElement(f.a,{duration:2,width:"100%",height:"100%"})),l.a.createElement("span",null,w.bm),l.a.createElement("span",{className:"option"},o.option_predicted.option),l.a.createElement("div",{className:"match-timing"},_.b.showCountDown({game_starts_in:E})?l.a.createElement("div",{className:"countdown time-line"},E&&l.a.createElement(v.a,{timerCallback:e.timerCompletionCall,deadlineTimeStamp:E})):l.a.createElement("span",null,l.a.createElement(b.f,{data:{date:o.deadline_date,format:"D MMM - hh:mm A "}})))),l.a.createElement(d.a,{className:"input-label-center input-transparent",controlId:"formBasicText"},l.a.createElement(g.a,{autoComplete:"off",styles:u.b,id:"amont",name:"amont",value:c,placeholder:"".concat(w.Fc," (").concat(w.pf," ").concat(s," ").concat(w.zm,")"),type:"text",maxLength:5,onChange:e.onChange})),l.a.createElement("div",{className:"available-bal"},l.a.createElement("span",null,w.v),l.a.createElement("span",{className:"bal"},l.a.createElement("img",{src:y.a.IC_COIN,alt:""}),C)),c>C&&l.a.createElement("span",{className:"no-coins-msg"},w.ag,l.a.createElement("a",{href:!0,onClick:e.clickEarnCoins},w.lc.toLowerCase()))),l.a.createElement("button",{onClick:e.submitPrediction,className:"btn btn-m-p"+(N&&!r?"":" disabled")},w.Ze)))})}}]),t}(r.Component);t.a=k}}]);
//# sourceMappingURL=22.686a9a34.chunk.js.map