{"version":3,"sources":["views/EditReferralCode.jsx"],"names":["EditReferralCode","props","context","_this","Object","_Users_mukesh_sites_projects_dup_fantasysports_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_mukesh_sites_projects_dup_fantasysports_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_mukesh_sites_projects_dup_fantasysports_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","UNSAFE_componentWillMount","e","callRFMasterDataApi","updateValuesOfLabel","location","state","isValue","userCoin","parseInt","user_coin","userReal","user_real","userBonus","user_bonus","setState","displayLabelVlaue","prizeAmount","SkipStepWSaving","param","referral_code","oldRefCode","updateRefCode","then","responseJson","response_code","WSC","tempProfile","profileDetail","is_rc_edit","WSManager","setProfile","goBack","SkipStep","history","newRefCode","getUserReferralCode","getProfile","isShowPopup","bonusDetail","masterData","refferCodeAmount","refferCodeAmountType","_this2","getReferralMasterData","data","_this3","length","amountis","amountType","passingData","isSkip","value","type","_this4","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_bootstrap__WEBPACK_IMPORTED_MODULE_6__","AppLabels","OnlyCoinsFlow","Utilities","getMasterData","currency_code","alt","src","Images","IC_COIN","onChange","target","maxLength","onClick","_Modals__WEBPACK_IMPORTED_MODULE_12__","valueData","React","Component"],"mappings":"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","file":"static/js/41.b7ecf213.chunk.js","sourcesContent":["import React from 'react';\nimport { Label } from 'react-bootstrap';\nimport { updateRefCode } from '../WSHelper/WSCallings';\nimport { Utilities } from '../Utilities/Utilities';\nimport WSManager from \"../WSHelper/WSManager\";\nimport * as WSC from \"../WSHelper/WSConstants\";\nimport * as AppLabels from \"../helper/AppLabels\";\nimport { BonusCaseModal } from \"../Modals\";\nimport { getReferralMasterData } from '../WSHelper/WSCallings';\nimport Images from '../components/images';\nimport { OnlyCoinsFlow } from '../helper/Constants';\n\nexport default class EditReferralCode extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            newRefCode: WSManager.getUserReferralCode(),\n            oldRefCode: WSManager.getUserReferralCode(),\n            profileDetail: WSManager.getProfile(),\n            isShowPopup: false,\n            bonusDetail: this.props.location.state,\n            displayLabelVlaue: '',\n            prizeAmount: '',\n            masterData: '',\n            refferCodeAmount: '',\n            refferCodeAmountType: '',\n\n        };\n    }\n\n\n    UNSAFE_componentWillMount = (e) => {\n        this.callRFMasterDataApi();\n        this.updateValuesOfLabel(this.props.location.state);\n\n    }\n\n    /**\n     * MASTER API AFFILATED \n     */\n    callRFMasterDataApi() {\n        let param = {}\n        getReferralMasterData(param).then((responseJson) => {\n            if (responseJson && responseJson.response_code == WSC.successCode) {\n                this.setState({\n                    masterData: responseJson.data\n                })\n            }\n        })\n\n    }\n    updateValuesOfLabel = (e) => {\n        let isValue = e;\n        let userCoin = parseInt(e.user_coin);\n        let userReal = parseInt(e.user_real);\n        let userBonus = parseInt(e.user_bonus);\n\n        if (userBonus >= userCoin && userBonus >= userReal) {\n            this.setState({\n                displayLabelVlaue: 0,\n                prizeAmount: isValue.user_bonus\n            })\n        }\n        if (userReal >= userBonus && userReal >= isValue.user_bonus) {\n            this.setState({\n                displayLabelVlaue: 2,\n                prizeAmount: isValue.user_real\n            })\n        }\n        if (userCoin >= userBonus && userCoin >= userReal) {\n            this.setState({\n                displayLabelVlaue: 1,\n                prizeAmount: isValue.user_coin\n            })\n        }\n\n    }\n\n    /**\n     * UPDATE REFERRAL CODE \n     */\n\n    updateRefCode() {\n        if (this.state.newRefCode.length >= 6) {\n            let param = {\n                \"referral_code\": this.state.newRefCode\n            }\n            updateRefCode(param).then((responseJson) => {\n                if (responseJson && responseJson.response_code == WSC.successCode) {\n                    let user_real = parseInt(this.state.masterData[16].user_real);\n                    let user_coin = parseInt(this.state.masterData[16].user_coin);\n                    let user_bonus = parseInt(this.state.masterData[16].user_bonus);\n                    let amountis, amountType;\n                    if (user_real >= user_coin && user_real >= user_bonus) {\n                        amountis = user_real;\n                        amountType = 2;\n                    }\n                    if (user_coin >= user_real && user_coin >= user_bonus) {\n                        amountis = user_coin;\n                        amountType = 1;\n                    }\n                    if (user_bonus >= user_coin && user_bonus >= user_real) {\n                        amountis = user_bonus;\n                        amountType = 0;\n                    }\n                    let passingData = {\n                        isSkip: 3,\n                        value: amountis,\n                        type: amountType,\n                    };\n                    let tempProfile = this.state.profileDetail;\n                    tempProfile.referral_code = this.state.newRefCode;\n                    tempProfile.is_rc_edit = '1';\n                    WSManager.setProfile(tempProfile);\n                    if(amountis > 0){\n                        this.setState({\n                            isShowPopup: true,\n                            passingData: passingData,\n                        })\n                    }else{\n                        this.goBack();\n                    }\n                }\n            })\n        }\n    }\n    /**\n     * SKIP STEP \n     */\n\n    SkipStepWSaving = (e) => {\n        let param = {\n            \"referral_code\": this.state.oldRefCode\n        }\n        updateRefCode(param).then((responseJson) => {\n            if (responseJson && responseJson.response_code == WSC.successCode) {\n                let tempProfile = this.state.profileDetail;\n                tempProfile.referral_code = this.state.oldRefCode;\n                tempProfile.is_rc_edit = '1';\n                WSManager.setProfile(tempProfile);\n                this.goBack();\n            }\n        })\n    }\n\n    SkipStep = (e) => {\n        this.goBack();\n    }\n\n    goBack = (e) => {\n        this.props.history.goBack();\n    }\n\n    render() {\n        return (\n            <div className=\"web-container bg-white p-0 verify-otp edit-ref refer-friend j-c-c d-f\">\n\n                <div className='center-view'>\n                    <div>\n                        {/* <span className=\"header-action skip_layout\" onClick={() => this.SkipStepWSaving()}>\n                            <i className=\"icon-close\" />\n                        </span> */}\n                    </div>\n                    <div className='m-t-20-p'>\n                        <Label className='font-xl'>{AppLabels.EDIT_REFER}<br></br>{AppLabels.CODE}</Label><br></br>\n                        {OnlyCoinsFlow != 1 && <Label className='title'>{AppLabels.EDIT_YOUR_CODE_BONUS}</Label>}\n                    </div>\n                    <div className={this.state.prizeAmount == 0 ? 'd-none' : 'box-view m-t-30-p'}>\n                        <div className='t-a-c p10'>\n                            <Label className='get-20-bonus-cash'>{AppLabels.GET}</Label>&nbsp;\n                            {\n                                this.state.displayLabelVlaue == 0 &&\n                                <Label className='icon-bonus is-blue font-s-15 line-h-18'></Label>\n                            }\n                            {\n                                this.state.displayLabelVlaue == 2 &&\n                                <Label className='is-blue font-s-12 line-h-16'>{Utilities.getMasterData().currency_code}</Label>\n                            }\n\n                            \n                            <img alt='' src={this.state.displayLabelVlaue == 1 ? Images.IC_COIN : ''} className='icon-height-is-18' />\n                            <Label className='get-20-bonus-cash pl2'>{this.state.prizeAmount}</Label> &nbsp;\n                            <Label className='get-20-bonus-cash'>\n                                {this.state.displayLabelVlaue == 0 ? AppLabels.BONUS_CASH_LOWER : this.state.displayLabelVlaue == 1 ? AppLabels.COIN_CASH_LOWER : this.state.displayLabelVlaue == 2 ? AppLabels.REAL_CASH_LOWER : ''}</Label>\n\n                            <br></br>\n                            <Label className='title'>{AppLabels.ON_TRY_COOL_REF_CODE}</Label>\n                        </div>\n                    </div>\n\n                    <div className='text-f-view'>\n                        <div className='t-a-c p10'>\n                            <Label className='title'>{AppLabels.REF_CODE}</Label>\n                        </div>\n                        <input className='ref-input-text' onChange={(e) => { this.setState({ newRefCode: e.target.value }) }} value={this.state.newRefCode} maxLength={10} />\n                        <div className='horizontal-line mt10' />\n                    </div>\n\n                    <div className='j-c-c d-f a-i-c m-t-20-p'>\n                        <i className={this.state.newRefCode.length >= 6 ? \"icon-next-btn display-color cursor-pointer\" : 'icon-next-btn display-color-disable'} onClick={() => this.updateRefCode()} />\n                    </div>\n                    <div className='lower-div pt50'>\n                        <Label className='friend-sign-up-blue cursor-pointer' onClick={() => this.SkipStepWSaving()}>{AppLabels.I_DONT_WANT_TO_EDIT}</Label><br></br>\n                        <Label className='title-sm cursor-pointer' onClick={() => this.SkipStepWSaving()}>{AppLabels.YOU_WONT_TO_ABLE_EDIT_THIS_CODE_AGAIN}</Label>\n                    </div>\n                </div>\n                {\n                    this.state.isShowPopup ? <BonusCaseModal SkipStep={this.SkipStep} data={this.state.passingData} valueData={this.state} /> : ''\n                }\n            </div>\n\n        );\n    }\n}"],"sourceRoot":""}