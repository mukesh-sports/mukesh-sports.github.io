(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1087:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return g});var s=t(23),n=t(31),l=t(139),r=t(138),i=t(140),c=t(0),o=t.n(c),u=t(1082),p=t(506),m=t(6),d=t(27),f=t(14),b=t(95),h=t(538),v=t(508),E=t(10),g=function(e){function a(e,t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(r.a)(a).call(this,e,t))).UNSAFE_componentWillMount=function(e){n.callRFMasterDataApi(),n.updateValuesOfLabel(n.props.location.state)},n.updateValuesOfLabel=function(e){var a=e,t=parseInt(e.user_coin),s=parseInt(e.user_real),l=parseInt(e.user_bonus);l>=t&&l>=s&&n.setState({displayLabelVlaue:0,prizeAmount:a.user_bonus}),s>=l&&s>=a.user_bonus&&n.setState({displayLabelVlaue:2,prizeAmount:a.user_real}),t>=l&&t>=s&&n.setState({displayLabelVlaue:1,prizeAmount:a.user_coin})},n.SkipStepWSaving=function(e){var a={referral_code:n.state.oldRefCode};Object(p.sc)(a).then(function(e){if(e&&e.response_code==f.od){var a=n.state.profileDetail;a.referral_code=n.state.oldRefCode,a.is_rc_edit="1",d.a.setProfile(a),n.goBack()}})},n.SkipStep=function(e){n.goBack()},n.goBack=function(e){n.props.history.goBack()},n.state={newRefCode:d.a.getUserReferralCode(),oldRefCode:d.a.getUserReferralCode(),profileDetail:d.a.getProfile(),isShowPopup:!1,bonusDetail:n.props.location.state,displayLabelVlaue:"",prizeAmount:"",masterData:"",refferCodeAmount:"",refferCodeAmountType:""},n}return Object(i.a)(a,e),Object(n.a)(a,[{key:"callRFMasterDataApi",value:function(){var e=this;Object(p.Hb)({}).then(function(a){a&&a.response_code==f.od&&e.setState({masterData:a.data})})}},{key:"updateRefCode",value:function(){var e=this;if(this.state.newRefCode.length>=6){var a={referral_code:this.state.newRefCode};Object(p.sc)(a).then(function(a){if(a&&a.response_code==f.od){var t,s,n=parseInt(e.state.masterData[16].user_real),l=parseInt(e.state.masterData[16].user_coin),r=parseInt(e.state.masterData[16].user_bonus);n>=l&&n>=r&&(t=n,s=2),l>=n&&l>=r&&(t=l,s=1),r>=l&&r>=n&&(t=r,s=0);var i={isSkip:3,value:t,type:s},c=e.state.profileDetail;c.referral_code=e.state.newRefCode,c.is_rc_edit="1",d.a.setProfile(c),t>0?e.setState({isShowPopup:!0,passingData:i}):e.goBack()}})}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"web-container bg-white p-0 verify-otp edit-ref refer-friend j-c-c d-f"},o.a.createElement("div",{className:"center-view"},o.a.createElement("div",null),o.a.createElement("div",{className:"m-t-20-p"},o.a.createElement(u.a,{className:"font-xl"},b.uc,o.a.createElement("br",null),b.bb),o.a.createElement("br",null),1!=E.A&&o.a.createElement(u.a,{className:"title"},b.xc)),o.a.createElement("div",{className:0==this.state.prizeAmount?"d-none":"box-view m-t-30-p"},o.a.createElement("div",{className:"t-a-c p10"},o.a.createElement(u.a,{className:"get-20-bonus-cash"},b.Ad),"\xa0",0==this.state.displayLabelVlaue&&o.a.createElement(u.a,{className:"icon-bonus is-blue font-s-15 line-h-18"}),2==this.state.displayLabelVlaue&&o.a.createElement(u.a,{className:"is-blue font-s-12 line-h-16"},m.b.getMasterData().currency_code),o.a.createElement("img",{alt:"",src:1==this.state.displayLabelVlaue?v.a.IC_COIN:"",className:"icon-height-is-18"}),o.a.createElement(u.a,{className:"get-20-bonus-cash pl2"},this.state.prizeAmount)," \xa0",o.a.createElement(u.a,{className:"get-20-bonus-cash"},0==this.state.displayLabelVlaue?b.F:1==this.state.displayLabelVlaue?b.gb:2==this.state.displayLabelVlaue?b.oi:""),o.a.createElement("br",null),o.a.createElement(u.a,{className:"title"},b.Fg))),o.a.createElement("div",{className:"text-f-view"},o.a.createElement("div",{className:"t-a-c p10"},o.a.createElement(u.a,{className:"title"},b.Ei)),o.a.createElement("input",{className:"ref-input-text",onChange:function(a){e.setState({newRefCode:a.target.value})},value:this.state.newRefCode,maxLength:10}),o.a.createElement("div",{className:"horizontal-line mt10"})),o.a.createElement("div",{className:"j-c-c d-f a-i-c m-t-20-p"},o.a.createElement("i",{className:this.state.newRefCode.length>=6?"icon-next-btn display-color cursor-pointer":"icon-next-btn display-color-disable",onClick:function(){return e.updateRefCode()}})),o.a.createElement("div",{className:"lower-div pt50"},o.a.createElement(u.a,{className:"friend-sign-up-blue cursor-pointer",onClick:function(){return e.SkipStepWSaving()}},b.we),o.a.createElement("br",null),o.a.createElement(u.a,{className:"title-sm cursor-pointer",onClick:function(){return e.SkipStepWSaving()}},b.pm))),this.state.isShowPopup?o.a.createElement(h.b,{SkipStep:this.SkipStep,data:this.state.passingData,valueData:this.state}):"")}}]),a}(o.a.Component)}}]);
//# sourceMappingURL=41.b7ecf213.chunk.js.map